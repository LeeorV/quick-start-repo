spec_version: 1
kind: application

source:
  os_type: linux
  image:
    ami:                                                   # AWS Image details
      - id: ami-f90a4880
        region: eu-west-1
        username: ubuntu                                   # user name for SSH [naama](https://colonysupport.quali.com/hc/en-us/articles/360001043707-Sandbox-Statuses)


inputs:                             # Declaration that the application requires a port number input
  - port_number

infrastructure:
  compute:
    spec:
      aws:
        instance_type: t2.medium    # AWS - Instance size

  connectivity:                     # Connectivity definition
    external:
      - port_info:
          port: $port_number        # The connectivity port is configured using a dynamic input parameter

configuration:                      # Application Deployment Scripts
  initialization:
    script: apache-init.sh
  start:
    script: apache-start.sh
  healthcheck:
    wait_for_ports: ALL
    timeout: 180

debugging:
  connection_protocol: SSH
