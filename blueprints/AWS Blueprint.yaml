#
#    Step by Step Guide: https://colonysupport.quali.com/hc/en-us/sections/360000179948-Developing-Blueprints
---
spec_version: 1
kind: blueprint

metadata:
  description: Template blueprint that deploys and configures an Apache server. Explore the YAML file, modify it and start modeling your own environments


clouds:
  - AWS: eu-west-1     # AWS

inputs:
  - external_port: 1234     # This input allows users to define the apache server port

artifacts:                # This blueprint does not require artifcats to be pulled from an artifact repository

applications:
  - basic_app:           # Simple Ubuntu Server from an image
      instances: 1

  - advanced_app:         # two instances of Apache under a load balancer with port configuration (see: specifications in applications/apache folder)
      instances: 2
      depends_on:
        - basic_app
      input_values:
        - port_number : $external_port  # The apache_port input will be sent to the apache definitions

